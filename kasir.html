<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Login Kasir</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center">

  <div class="bg-white p-6 rounded-2xl shadow-lg w-96">
    <h1 class="text-xl font-bold mb-4 text-center">Login Kasir</h1>

    <input id="username" placeholder="Username" class="border rounded p-2 w-full mb-2">
    <input id="password" placeholder="Password" type="password" class="border rounded p-2 w-full mb-4">

    <button onclick="loginKasir()" class="bg-green-500 text-white px-4 py-2 rounded w-full">Login</button>
  </div>

  <script>
    const scriptURL = "https://script.google.com/macros/s/AKfycbyNWXKPM9tuGjwS7YLvNEoxV0CYoVYeEPEqvWqmBcAVi_SqnEFvXPXpLvppJOg68Ps/exec";

    function loginKasir() {
      const user = document.getElementById("username").value;
      const pass = document.getElementById("password").value;

      fetch(`${scriptURL}?action=getKasir`)
        .then(res => res.json())
        .then(data => {
          console.log("LOGIN DATA:", data);
          const kasir = data.find(k => k.Username === user && k.Password === pass);
          if (kasir) {
            alert("Login berhasil!");
            localStorage.setItem("kasir", user);
            window.location.href = "kas.html";
          } else {
            alert("Username / Password salah");
          }
        })
        .catch(err => {
          console.error("ERROR:", err);
          alert("Gagal ambil data kasir");
        });
    }
  </script>
</body>
</html>
